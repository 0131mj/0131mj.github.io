<html lang="ko">
<head>
    <title>Bae Myoung Jin</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/style.css">
</head>
<style>
    .hide {
        display: none !important;
    }

    #profile-modal-wrapper {
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0;
        top: 0;
        background: rgba(0, 0, 0, 0.2);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #profile-modal {
        background: #fff;
        padding: 2vw 1vw;
        border-radius: .5vw;
        letter-spacing: -1px;
        max-height: 80vh;
        display: flex;
        flex-direction: column;
    }

    #profile-modal > header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 1vw 1vw;
    }

    #profile-modal > header {
        font-size: 2rem;
        font-weight: 900;
    }

    #profile-modal > header > button {
        border: none;
        background: transparent;
        cursor: pointer;
        font-size: 1.5rem;
    }

    #profile-modal-content {
        overflow: hidden scroll;
        flex-grow: 1;
        padding: 1vw;
    }

    #profile-modal h3 {
        font-size: 2rem;
        line-height: 5rem;
    }

    #profile-modal dt {
        font-size: 1.2rem;
        color: #aaa;
        line-height: 2rem;
    }

    #profile-modal dd {
        line-height: 2rem;
    }

    .launcher {
        will-change: transform, width, height;
    }
</style>
<body>
<header>
    <h2>bae myoung jin</h2>
    <nav>
        <a href="https://github.com/0131mj" target="_blank">github</a>
        <a href="https://dribbble.com/mjbae" target="_blank">dribbble</a>
        <a href="" id="profile-btn">about</a>
    </nav>
</header>
<ul id="works"></ul>
<div id="profile-modal-wrapper" class="hide">
    <div id="profile-modal">
        <header>
            About
            <button id="close-profile-modal-btn">x</button>
        </header>
    </div>
</div>
</body>
<script>
    const works = document.getElementById("works");
    const worksData = {
        "tetris": {
            icon: "üß±",
            text: "Tetris",
            url: "https://0131mj.github.io/tetris/",
        },
        "mind-sweeper": {
            icon: "üí£",
            text: "Mind Sweeper",
            url: "https://0131mj.github.io/games/MineSweeper/index.html",
        },

        "baseball": {
            icon: "‚öæ",
            text: "Number Baseball",
            url: "https://0131mj.github.io/baseball_game_ex/index.html",
        },
    };

    works.innerHTML = Object.keys(worksData).reduce((list, appName) => {
        const {icon, text, url} = worksData[appName];
        return list += `
            <li>
                <a href="#${appName}" class="launcher-place-holder">
                    <div
                        id="${appName}"
                        class="launcher"
                        data-url="${url}"
                        data-item="${appName}">
                        <div class="launcher-icon">${icon}</div>
                        <div class="launcher-control-bar">
                            ${text}
                            <button class="close-btn">‚ùå</button>
                        </div>
                        <iframe src="" frameborder="0"></iframe>
                    </div>
                </a>
                <div>${text}</div>
            </li>
        `
    }, "");

    const setTransform = (place) => {
        const {top, left, width, height} = place.getBoundingClientRect();
        const launcher = place.querySelector(".launcher");
        console.log(top, left, launcher);
        launcher.style.transform = `translate(${left}px, ${top}px)`;
        launcher.style.width = `${width}px`;
        launcher.style.height = `${height}px`;
    };

    const launcherPlaceHolders = document.querySelectorAll(".launcher-place-holder");
    for (const place of launcherPlaceHolders) {
        setTransform(place);
    }
    console.log(launcherPlaceHolders);

    const hideIframe = () => {
        const opened = document.querySelector(".opened");
        const parent = opened.parentNode;
        opened.classList.remove("opened");
        setTransform(parent);
        const iFrame = opened.querySelector("iframe");
        iFrame.setAttribute("src", "");
    };


    function removeHash() {
        history.pushState("", document.title, window.location.pathname + window.location.search);
        hideIframe();
    }

    const closeBtns = document.querySelectorAll(".close-btn");
    for (const closeBtn of closeBtns) {
        closeBtn.addEventListener("click", (e) => {
            e.preventDefault();
            removeHash();
        });
    }

    window.addEventListener('hashchange', function () {
        const itemId = location.hash.slice(1);
        if (itemId) {
            const target = document.querySelectorAll(`[data-item=${itemId}]`)[0];
            const iFrame = target.querySelector("iframe");
            target.classList.add("launched");
            target.classList.add("opened");
            setTimeout(() => {
                iFrame.setAttribute("src", target.dataset.url);
                setTimeout(() => {
                    iFrame.contentWindow.focus();
                }, 300)
            }, 300)
        } else {
            hideIframe();
        }
    })

    window.addEventListener("resize", () => {
        const launcherPlaceHolders = document.querySelectorAll(".launcher-place-holder");
        for (const place of launcherPlaceHolders) {
            setTransform(place);
        }
    })


    const aboutData = {
        skills: [
            {
                area: "Front-End",
                skill: [
                    'HTML5',
                    'CSS3 (SCSS)',
                    'JavaScript (Vanilla, ReactJS, NodeJS)',
                    'PHP (Native PHP, Codeigniter)',
                    'SQL (MySQL)'
                ]
            },
            {
                area: "Web / App Design ",
                skill: [
                    'Figma',
                    'Sketch',
                    'Illustrator',
                    'Photoshop'
                ]
            },
            {
                area: "etc",
                skill: [
                    'AutoCAD',
                    'OA (Excel, PowerPoint, ÌïúÍ∏Ä)',
                    '3D graphics (Rhinoceros & KeyShot)'
                ]
            }
        ],
        careers: [
            {
                year: '2018. 6. ~ 2021. 9',
                career: [
                    '(Ï£º)ÎπÑÏóîÏÜîÎ£®ÏÖò Front-End Developer',
                    'Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò ÌîåÎû´Ìèº ÏúÑÌÇ§ÌÜ†Î¶¨ Î∞è Í∑∏Î£πÏõ®Ïñ¥ ÌÅêÎ∏å Í∞úÎ∞ú'
                ]
            },
            {
                year: '2017. 2. ~ 2018. 5',
                career: [
                    '(Ï£º)Î†åÍ≥† Í∞úÎ∞úÌåÄ Front-End Developer',
                    'Î†åÌÑ∞Ïπ¥ ÏòàÏïΩ Ï§ëÍ∞ú ÌîåÎû´Ìèº ÏÇ¨Ïù¥Ìä∏ Í∞úÎ∞ú Î∞è Ïú†ÏßÄÎ≥¥Ïàò'
                ]
            },
            {
                year: '2016. 5. ~ 2017. 2.',
                career: [
                    '(Ï£º)Ï∫†Î≤ÑÏä§ Í∞úÎ∞úÌåÄ Ï£ºÏûÑ',
                    'Ï∫†Î≤ÑÏä§ Î∞è Ìå®Î∞ÄÎ¶¨ ÏÇ¨Ïù¥Ìä∏(Í≥†ÏãúÎßàÌä∏, Îã®Í≥®ÎèÑÏÑú) Í∞úÎ∞ú'
                ]
            },
            {
                year: '2015. 7. ~ 2016. 4.',
                career: [
                    'Ïø†ÌÇ§(coukey.co.kr)Í∏∞ÌöçÌåÄ ÌåÄÏû•',
                    'ÏÇ¨Ïù¥Ìä∏ Ïú†ÏßÄÎ≥¥Ïàò, Î∞∞ÎÑà ÎîîÏûêÏù∏, Ïã†Í∑ú ÌîåÎû´Ìèº Í∏∞Ìöç'
                ]
            },
            {
                year: '2015. 3. ~ 2015. 6.',
                career: [
                    '(Ï£º)ÏóêÎ≤ÑÏä§ÌÜ§ Í∞úÎ∞úÌåÄ Ïù∏ÌÑ¥',
                    'Í∞ÅÏ¢Ö Í∏∞ÏóÖ ÏõπÏÇ¨Ïù¥Ìä∏ ÎîîÏûêÏù∏ Î∞è Í∞úÎ∞ú'
                ]
            }
        ],
        projects: [
            {
                year: '2017',
                project: [
                    'Î†åÌÑ∞Ïπ¥ ÏòàÏïΩ Ï§ëÍ∞ú ÌîåÎû´Ìèº : (Ï£º)Î†åÍ≥† PC Í∞úÎ∞ú, Mobile App Í∏∞Ìöç ÎîîÏûêÏù∏',
                    'ÌÜ†Î™©Í≥µÏÇ¨ Ï†ÑÎ¨∏ÏóÖÏ≤¥ : ÏÇºÎ≥¥ÌÜ†Í±¥(Ï£º) ÏõπÏÇ¨Ïù¥Ìä∏ Í∞úÎ∞ú',
                    'Í±¥Ï∂ïÏûêÏû¨ Ï†ÑÎ¨∏ÏóÖÏ≤¥ : Ïú°ÏùºÎ™©Ïû¨/ÎØ∏Í∞ÄÍ±¥Ï∂ï Í∏∞ÏóÖÏÜåÍ∞ú Î∞è Ïπ¥ÌÉàÎ°úÍ∑∏ ÏõπÏÇ¨Ïù¥Ìä∏ ÎîîÏûêÏù∏ Î∞è Í∞úÎ∞ú']
            },
            {
                year: '2016',
                project: [
                    'ÍµêÏú°Ïª®ÌÖêÏ∏† ÏáºÌïëÎ™∞ : Îâ¥Í≥†ÏãúÎßàÌä∏ Î∞∞ÏÜ°Í¥ÄÎ¶¨ ÌîÑÎ°úÍ∑∏Îû® Í∏∞Ìöç, Í∞úÎ∞ú',
                    'ÍµêÏú°Ïª®ÌÖêÏ∏† ÏáºÌïëÎ™∞ : Í≥†ÏãúÎßàÌä∏(Admin/User) PC, Mobile Í∞úÎ∞ú',
                    'ÎèÑÏÑúÌåêÎß§ ÏáºÌïëÎ™∞ : Îã®Í≥®ÎèÑÏÑú(Admin/User) PC, Mobile Í∞úÎ∞ú',
                    '(Ï£º)Ï∫†Î≤ÑÏä§ : ÎèÑÏÑúÎß§ÏûÖ ÌîÑÎ°úÍ∑∏Îû® Í∞úÎ∞ú',
                    '(Ï£º)Ï∫†Î≤ÑÏä§ Ìå®Î∞ÄÎ¶¨ÏÇ¨Ïù¥Ìä∏ : Ï†ÑÌÉúÎ†®, Ï†ïÏÉò, Ï∫†Î≤ÑÏä§ÌïôÏõê Îì± Ïú†ÏßÄÎ≥¥Ïàò']
            },
            {
                year: '2015',
                project: [
                    'ITÏ†ÑÎ¨∏Í∏∞ÏóÖ : (Ï£º)ÏóêÎ≤ÑÏä§ÌÜ§ Í∏∞ÏóÖ ÏõπÏÇ¨Ïù¥Ìä∏ Í∏∞Ìöç, ÎîîÏûêÏù∏ Î∞è Í∞úÎ∞ú',
                    'ÌÉúÏïÑÎ≥¥Ìóò Ïù¥Î≤§Ìä∏ Í¥ëÍ≥†ÌéòÏù¥ÏßÄ Í∞úÎ∞ú',
                    'ÏòÅÏÉÅÏ†úÏûë Ï†ÑÎ¨∏ÏóÖÏ≤¥ : ÏõêÎØ∏ÎîîÏñ¥ Í∏∞ÏóÖ ÏõπÏÇ¨Ïù¥Ìä∏ Í∞úÎ∞ú',
                    'ÏÉùÎ™ÖÍ≥µÌïô Ï†ÑÎ¨∏ÏóÖÏ≤¥ : ÌïúÍµ≠DNAÎ∞∏Î¶¨ Í∏∞ÏóÖ ÏõπÏÇ¨Ïù¥Ìä∏) Í∞úÎ∞ú',]
            }
        ]
    }

    const profileModalWrapper = document.getElementById("profile-modal-wrapper");
    const profileModal = document.getElementById("profile-modal");
    const showProfileModal = () => {
        profileModalWrapper.classList.remove("hide");
    }

    const hideProfileModal = () => {
        profileModalWrapper.classList.add("hide");
    }

    const profileBtn = document.getElementById("profile-btn")
    profileBtn.addEventListener("click",(e)=>{
        e.preventDefault();
        showProfileModal();
    })

    const profileModalContent = document.createElement("div");
    profileModalContent.setAttribute("id", "profile-modal-content");
    Object.entries(aboutData).reduce((acc, [title, details]) => {
        const titleEl = document.createElement("h3");
        titleEl.innerText = title;
        acc.append(titleEl);
        const contentEl = document.createElement("dl");
        details.forEach((detail) => {
            const [dt, dd] = Object.values(detail);
            const dtEl = document.createElement("dt");
            dtEl.textContent = `${dt}`;

            const ddEl = document.createElement("dd");
            const ulEl = document.createElement("ul");
            dd.forEach((li) => {
                const liEl = document.createElement("li");
                liEl.textContent = `${li}`;
                ulEl.appendChild(liEl);
            })

            ddEl.appendChild(ulEl);
            contentEl.appendChild(dtEl);
            contentEl.appendChild(ddEl);
        })
        acc.appendChild(contentEl);
        return acc;
    }, profileModalContent);
    profileModal.appendChild(profileModalContent);

    document.getElementById("close-profile-modal-btn").addEventListener("click", () => {
        hideProfileModal();
    })
</script>
</html>